{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_SHIPPING } from '../actions/action-types/cart-actions';\nconst initState = {\n  items: [{\n    id: 1,\n    title: 'Dirty SweatPants',\n    desc: \"Semi-used Sweat Pants we pulled off a deceased jogger. Possibly a former olympic athlete but most likely a casual runner. Still a good price\",\n    price: 21\n  }, {\n    id: 2,\n    title: 'Stained Shirt',\n    desc: \"We think it's pasta sauce...We hope it's pasta sauce. Either way, what a deal!.\",\n    price: 8\n  }, {\n    id: 3,\n    title: 'Off-Brand Yeezeys',\n    desc: \"Who's going to pay for the real thing? Right?.\",\n    price: 100\n  }, {\n    id: 4,\n    title: 'Van Down by the River',\n    desc: \"If you don't study hard in school, you'll be living in this Van\",\n    price: 9000\n  }, {\n    id: 5,\n    title: 'Half-Eaten Carrots',\n    desc: \"To be honest we just kinda stumbled upon these while walking our pet farret. Could be useful\",\n    price: 2\n  }, {\n    id: 6,\n    title: 'IPhone X',\n    desc: \"We stole this from Dave in accounting so we could pay rent. Brand new! Please buy quick before he finds out\",\n    price: 900\n  }],\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  if (action.type === ADD_TO_CART) {\n    let addedItem = state.items.find(item => item.id === action.id);\n    let existed_item = state.addedItems.find(item => action.id === item.id);\n\n    if (existed_item) {\n      addedItem.quantity += 1;\n      return { ...state,\n        total: state.total + addedItem.price\n      };\n    } else {\n      addedItem.quantity = 1;\n      let newTotal = state.total + addedItem.price;\n      return { ...state,\n        addedItems: [...state.addedItems, addedItem],\n        total: newTotal\n      };\n    }\n  }\n\n  if (action.type === REMOVE_ITEM) {\n    let itemToRemove = state.addedItems.find(item => action.id === item.id);\n    let new_items = state.addedItems.filter(item => action.id !== item.id);\n    let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n    console.log(itemToRemove);\n    return { ...state,\n      addedItems: new_items,\n      total: newTotal\n    };\n  }\n\n  if (action.type === ADD_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n    addedItem.quantity += 1;\n    let newTotal = state.total + addedItem.price;\n    return { ...state,\n      total: newTotal\n    };\n  }\n\n  if (action.type === SUB_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n\n    if (addedItem.quantity === 1) {\n      let new_items = state.addedItems.filter(item => item.id !== action.id);\n      let newTotal = state.total - addedItem.price;\n      return { ...state,\n        addedItems: new_items,\n        total: newTotal\n      };\n    } else {\n      addedItem.quantity -= 1;\n      let newTotal = state.total - addedItem.price;\n      return { ...state,\n        total: newTotal\n      };\n    }\n  }\n\n  if (action.type === ADD_SHIPPING) {\n    return { ...state,\n      total: state.total + 6\n    };\n  }\n\n  if (action.type === 'SUB_SHIPPING') {\n    return { ...state,\n      total: state.total - 6\n    };\n  } else {\n    return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["C:/Users/Seanw/Desktop/dev/fsw-130/fsw-130/week7/cap/cap/src/components/reducers/cartReducer.js"],"names":["ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","ADD_SHIPPING","initState","items","id","title","desc","price","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existed_item","quantity","newTotal","itemToRemove","new_items","filter","console","log"],"mappings":"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","sourcesContent":["\r\nimport { ADD_TO_CART,REMOVE_ITEM,SUB_QUANTITY,ADD_QUANTITY,ADD_SHIPPING } from '../actions/action-types/cart-actions'\r\n\r\n\r\nconst initState = {\r\n    items: [\r\n        {id:1,title:'Dirty SweatPants', desc: \"Semi-used Sweat Pants we pulled off a deceased jogger. Possibly a former olympic athlete but most likely a casual runner. Still a good price\", price:21,},\r\n        {id:2,title:'Stained Shirt', desc: \"We think it's pasta sauce...We hope it's pasta sauce. Either way, what a deal!.\", price:8,},\r\n        {id:3,title:'Off-Brand Yeezeys', desc: \"Who's going to pay for the real thing? Right?.\",price:100,},\r\n        {id:4,title:'Van Down by the River', desc: \"If you don't study hard in school, you'll be living in this Van\", price:9000,},\r\n        {id:5,title:'Half-Eaten Carrots', desc: \"To be honest we just kinda stumbled upon these while walking our pet farret. Could be useful\", price:2,},\r\n        {id:6,title:'IPhone X', desc: \"We stole this from Dave in accounting so we could pay rent. Brand new! Please buy quick before he finds out\",price:900,}\r\n    ],\r\n    addedItems:[],\r\n    total: 0\r\n\r\n}\r\nconst cartReducer= (state = initState,action)=>{\r\n   \r\n   \r\n    if(action.type === ADD_TO_CART){\r\n          let addedItem = state.items.find(item=> item.id === action.id)\r\n         \r\n         let existed_item= state.addedItems.find(item=> action.id === item.id)\r\n         if(existed_item)\r\n         {\r\n            addedItem.quantity += 1 \r\n             return{\r\n                ...state,\r\n                 total: state.total + addedItem.price \r\n                  }\r\n        }\r\n         else{\r\n            addedItem.quantity = 1;\r\n          \r\n            let newTotal = state.total + addedItem.price \r\n            \r\n            return{\r\n                ...state,\r\n                addedItems: [...state.addedItems, addedItem],\r\n                total : newTotal\r\n            }\r\n            \r\n        }\r\n    }\r\n    if(action.type === REMOVE_ITEM){\r\n        let itemToRemove= state.addedItems.find(item=> action.id === item.id)\r\n        let new_items = state.addedItems.filter(item=> action.id !== item.id)\r\n        \r\n    \r\n        let newTotal = state.total - (itemToRemove.price * itemToRemove.quantity )\r\n        console.log(itemToRemove)\r\n        return{\r\n            ...state,\r\n            addedItems: new_items,\r\n            total: newTotal\r\n        }\r\n    }\r\n  \r\n    if(action.type=== ADD_QUANTITY){\r\n        let addedItem = state.items.find(item=> item.id === action.id)\r\n          addedItem.quantity += 1 \r\n          let newTotal = state.total + addedItem.price\r\n          return{\r\n              ...state,\r\n              total: newTotal\r\n          }\r\n    }\r\n    if(action.type=== SUB_QUANTITY){  \r\n        let addedItem = state.items.find(item=> item.id === action.id) \r\n        if(addedItem.quantity === 1){\r\n            let new_items = state.addedItems.filter(item=>item.id !== action.id)\r\n            let newTotal = state.total - addedItem.price\r\n            return{\r\n                ...state,\r\n                addedItems: new_items,\r\n                total: newTotal\r\n            }\r\n        }\r\n        else {\r\n            addedItem.quantity -= 1\r\n            let newTotal = state.total - addedItem.price\r\n            return{\r\n                ...state,\r\n                total: newTotal\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    if(action.type=== ADD_SHIPPING){\r\n          return{\r\n              ...state,\r\n              total: state.total + 6\r\n          }\r\n    }\r\n\r\n    if(action.type=== 'SUB_SHIPPING'){\r\n        return{\r\n            ...state,\r\n            total: state.total - 6\r\n        }\r\n  }\r\n    \r\n  else{\r\n    return state\r\n    }\r\n    \r\n}\r\n\r\nexport default cartReducer"]},"metadata":{},"sourceType":"module"}